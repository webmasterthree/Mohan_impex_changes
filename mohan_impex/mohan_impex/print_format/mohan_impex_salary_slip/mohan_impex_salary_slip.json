{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-03 12:00:01.605602",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Salary Slip",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n  <title>Payslip</title>\n  <style>\n    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }\n    .payslip { width: 180mm; margin: 0 auto; padding: 20px; border: 1px solid #000; box-sizing: border-box; }\n\n    .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }\n    .header img { width: 120px; height: auto; }\n    .header .company-details { text-align: right; }\n    .header .company-details h1 { margin: 0; font-size: 28px; font-weight: bold; }\n    .header .company-details p { margin: 2px 0; font-size: 14px; }\n\n    .table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n    .table th, .table td { border: 1px solid #000; padding: 5px; }\n    .table th { text-align: center; font-weight: bold; }\n\n    /* Column width rules */\n    .table-2col td, .table-2col th { width: 50%; }\n    .table-4col td, .table-4col th { width: 25%; }\n\n    /* Remove gap between earnings and totals table */\n    .earnings-table { margin-bottom: 0; }\n\n    /* Align totals row */\n    .totals-table td.text-bold { text-align: left; }\n    .totals-table td.amount { text-align: right; }\n\n    /* Right align numeric columns */\n    .amount { text-align: right; }\n\n    .footer { text-align: center; font-size: 18px; font-weight: bold; }\n    .text-bold { font-weight: bold; }\n    .text-center { text-align: center; }\n    .totals-table { margin-top: 0px; }\n  </style>\n</head>\n<body>\n  <div class=\"payslip\">\n    <div class=\"header\">\n      <div>\n        {% set company_doc = frappe.get_doc(\"Company\", \"Mohan Impex Solutions Limited\") %}\n        {% if company_doc.logo_for_printing %}\n          <img src=\"{{ company_doc.logo_for_printing | abs_url }}\"\n               style=\"height:120px; width:120px; border-radius: 50%; object-fit: cover;\" />\n        {% endif %}\n      </div>\n      <div class=\"company-details\">\n        <h1>Mohan Impex Solutions Limited</h1>\n        <p>12th Floor, Chatterjee International Centre, Room No. 7&8</p>\n        <p>33A Jawaharlal Nehru Road, Kolkata-700071</p>\n      </div>\n    </div>\n\n    <p class=\"text-bold text-center\">\n      Payslip for the month of {{ frappe.format_date(doc.start_date, \"MMMM yyyy\") }}\n    </p>\n\n    <table class=\"table table-2col details-table\">\n      <tr>\n        <td><strong>Employee Id:</strong> {{ doc.employee if doc.employee else '----' }}</td>\n        <td><strong>Bank Name:</strong> {{ doc.bank_name if doc.bank_name else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Employee Name:</strong> {{ doc.employee_name if doc.employee_name else '----' }}</td>\n        <td><strong>Bank A/c No:</strong> {{ doc.bank_account_no if doc.bank_account_no else '----' }}</td>\n      </tr>\n      <tr>\n        <td>\n          <strong>Joining Date:</strong>\n          {{ frappe.utils.formatdate(doc.joining_date, \"dd-MM-yyyy\") if doc.joining_date else '----' }}\n        </td>\n        <td><strong>PAN No:</strong> {{ doc.custom_pan if doc.custom_pan else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Department:</strong> {{ doc.department if doc.department else '----' }}</td>\n        <td><strong>Aadhar:</strong> {{ doc.custom_aadhar_number if doc.custom_aadhar_number else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Sub Department:</strong> {{ doc.custom_sub_department if doc.custom_sub_department else 'NA' }}</td>\n        <td><strong>PF No:</strong> {{ doc.custom_pf_no if doc.custom_pf_no else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Designation:</strong> {{ doc.designation if doc.designation else '----' }}</td>\n        <td><strong>UAN:</strong> {{ doc.uan if doc.uan else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Effective Work Days:</strong> {{ doc.total_working_days if doc.total_working_days else '----' }}</td>\n        <td><strong>Location:</strong> {{ doc.branch if doc.branch else '----' }}</td>\n      </tr>\n      <tr>\n        <td><strong>Loss of Pay:</strong> {{ doc.lop if doc.lop else '0' }}</td>\n        <td><strong>ESI No:</strong> {{ doc.esi_no if doc.esi_no else 'NA' }}</td>\n      </tr>\n    </table>\n\n    {# ==== PREP FOR EARNINGS/DEDUCTIONS TABLE ==== #}\n    {% set excluded = [\"Employees State Insurance Corporation Employer\", \"Provident Fund Employer\"] %}\n    {% set earnings_list = (doc.earnings or []) %}\n    {% set filtered_deductions = [] %}\n    {% for d in (doc.deductions or []) %}\n      {% if d.salary_component not in excluded %}\n        {% set _ = filtered_deductions.append(d) %}\n      {% endif %}\n    {% endfor %}\n    {% set max_rows = (earnings_list|length if (earnings_list|length) > (filtered_deductions|length) else filtered_deductions|length) %}\n    {% set gross = doc.gross_pay or 0 %}\n    {% set total_ded = doc.total_deduction or 0 %}\n    {% set net = gross - total_ded %}\n\n    <table class=\"table table-4col earnings-table\">\n      <tr>\n        <th>Earnings</th>\n        <th>Actual</th>\n        <th>Deductions</th>\n        <th>Actual</th>\n      </tr>\n      {% for i in range(max_rows) %}\n        {% set earning = earnings_list[i] if i < earnings_list|length else None %}\n        {% set deduction = filtered_deductions[i] if i < filtered_deductions|length else None %}\n        <tr>\n          <td>{{ earning.salary_component if earning else \"\" }}</td>\n          <td class=\"amount\">\n            {% if earning %}{{ \"{:,.0f}\".format((earning.amount or 0)) }}{% endif %}\n          </td>\n          <td>{{ deduction.salary_component if deduction else \"\" }}</td>\n          <td class=\"amount\">\n            {% if deduction %}{{ \"{:,.0f}\".format((deduction.amount or 0)) }}{% endif %}\n          </td>\n        </tr>\n      {% endfor %}\n    </table>\n\n    <table class=\"table table-4col totals-table\">\n      <tr>\n        <td class=\"text-bold\">Total Earnings:</td>\n        <td class=\"amount\">{{ \"{:,.0f}\".format(gross) }}</td>\n        <td class=\"text-bold\">Total Deductions:</td>\n        <td class=\"amount\">{{ \"{:,.0f}\".format(total_ded) }}</td>\n      </tr>\n    </table>\n\n    <p class=\"text-center text-bold\">\n      Net Pay : {{ \"{:,.0f}\".format(net) }}\n    </p>\n    <p class=\"text-center\">{{ doc.total_in_words.replace(\"INR\", \"Rupees\") }}</p>\n  </div>\n\n  <div class=\"footer\">\n    This is a system-generated payslip and does not require a signature.\n  </div>\n</body>\n</html>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-03 13:39:30.546384",
 "modified_by": "Administrator",
 "module": "Mohan Impex",
 "name": "Mohan_Impex_Salary_Slip",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}