{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-11 17:54:20.796723",
 "css": "",
 "custom_format": 1,
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"{% set logo_for_printing = frappe.db.get_value(\\\"Company\\\",doc.company,\\\"logo_for_printing\\\") %}\\n\\n<table>\\n    <tbody>\\n        <tr>\\n            <td style=\\\"padding: 0px !important;\\\">\\n                {% if logo_for_printing != \\\"\\\" %}\\n                   <div style=\\\"display: inline-block;margin-right:10px\\\">\\n                        <img src=\\\"{{ logo_for_printing }}\\\" style=\\\"height: 30px !important;width:30px !important;object-fit: scale-down !important;\\\">\\n                   </div>\\n                {% endif %}\\n                <div style=\\\"display: inline-block;\\\">\\n                    <h1><b> {{ doc.company }}</b></h1>\\n                </div>\\n            </td>\\n            <td style=\\\"width: 26%;text-align:end\\\">\\n                <h2 style=\\\"margin-top:10px !important\\\">\\n                    <b>{{ doc.select_print_heading if doc.select_print_heading else 'Tax Invoice' }}</b> <br />\\n                    <small> {{ doc.name }} </small>\\n                </h2>\\n            </td>\\n        </tr>\\n    </tbody>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"First Section\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"padding-bottom:5px !important\\\">\\n\\t<!-- Billing Address -->\\n\\t{% if not doc.shipping_address or doc.address_display == doc.shipping_address %}\\n\\t\\t<p>Billing and Shipping Address</p>\\n\\t{% else %}\\n\\t\\t<p>Billed To</p>\\n\\t{% endif %} \\n\\t{% if doc.customer_name %}\\n\\t\\t<p><b>{{ doc.customer_name }}</b></p>\\n\\t{% endif %}\\n\\n\\t<p>{{ doc.address_display if doc.address_display else '' }}</p>\\n\\n\\t<!-- shipping Address -->\\n\\t{% if doc.shipping_address and doc.address_display !=\\n\\t\\tdoc.shipping_address %}\\n\\t\\t<p style=\\\"padding-top:10px !important\\\">Shipped To</p>\\n\\t\\t\\t{% if doc.dispatch_address_name %}\\n\\t\\t\\t\\t<p><b>{{ doc.dispatch_address_name }}</b></p>\\n\\t\\t\\t{% endif %}\\n\\t\\t<p>{{ doc.shipping_address }}</p>\\n\\t{% endif %}\\n</div>\"}, {\"fieldname\": \"place_of_supply\", \"print_hide\": 0, \"label\": \"Place of Supply\"}, {\"fieldname\": \"is_reverse_charge\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Reverse Charge\"}, {\"fieldname\": \"posting_date\", \"print_hide\": 0, \"label\": \"Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--Contact Person-->\\n{% if doc.contact_display or doc.contact_mobile or doc.contact_email %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"padding-top: 0px !important\\\">\\n    <p><b>Contact Person</b></p>\\n    {% if doc.contact_display %}\\n    <p>{{ doc.contact_display }}</p>\\n    {% endif %} {% if doc.contact_mobile %}\\n    <p>{{ doc.contact_mobile }}</p>\\n    {% endif %} {% if doc.contact_email %}\\n    <p>{{ doc.contact_email }}</p>\\n    {% endif %}\\n</div>\\n{% endif %}\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--Purchase Order Reference-->\\n{% if doc.po_no %}\\n<div class=\\\"first_section_second_column\\\">\\n\\t<p><b>Purchase Order Reference</b></p>\\n\\t<p>{{ doc.po_no }}</p>\\n\\t{% if doc.po_date %}\\n\\t<p>dtd. {{ doc.get_formatted(\\\"po_date\\\") }}</p>\\n\\t{% endif %}\\n</div>\\n{% endif %}\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!-- Delivery Note Reference -->\\r\\n{% set delivery_note_list = [] %}\\r\\n{% for item in doc.items %}\\r\\n    {% if item.delivery_note and item.delivery_note not in delivery_note_list %}\\r\\n        {% set _ = delivery_note_list.append(item.delivery_note) %}\\r\\n    {% endif %}\\r\\n{% endfor %}\\r\\n\\r\\n{% if delivery_note_list %}\\r\\n    <div class=\\\"first_section_second_column\\\">\\r\\n        <p><b>Delivery Note Reference</b></p>\\r\\n        {% for dn in delivery_note_list %}\\r\\n            {% set dn_date = frappe.db.get_value('Delivery Note', dn, 'posting_date') %}\\r\\n            <p> {{ dn }} dtd. {{ frappe.utils.formatdate(dn_date, 'dd-MM-yyyy') }}</p>\\r\\n        {% endfor %}\\r\\n    </div>\\r\\n{% endif %}\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--Transporter Details-->\\n{% if doc.transporter_name or doc.vehicle_no or doc.lr_no or doc.ewaybill %}\\n<div class=\\\"first_section_second_column\\\">\\n    <p><b>Transporter Details</b></p>\\n    {% if doc.transporter_name %}\\n        <p>{{ doc.transporter_name }}</p>\\n    {% endif %} \\n    {% if doc.vehicle_no %}\\n        <p>Vehicle No: {{ doc.vehicle_no }}</p>\\n    {% endif %} \\n    {% if doc.lr_no %}\\n        <p>LR No: {{ doc.lr_no }}</p>\\n    {% endif %} \\n    {% if doc.ewaybill %}\\n        <p>e-Waybill No: {{ doc.ewaybill }}</p>\\n    {% endif %}\\n</div>\\n{% endif %}\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div class=\\\"paid_unpaid\\\">\\n    <!-- Unpaid Amound/Fully Paid -->\\n    {% if doc.outstanding_amount !=0 %}\\n        <p>\\n            <b>Unpaid Amount</b>\\n        </p>\\n        <p>\\n            <b> {{ doc.get_formatted(\\\"outstanding_amount\\\") }}</b>\\n        </p>\\n    {% else %}\\n        <p>\\n            <b>Fully Paid</b>\\n        </p>\\n    {% endif %}\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.irn %}\\r\\n{% set e_invoice_log = frappe.db.get_value( \\\"e-Invoice Log\\\", doc.irn,\\r\\n(\\\"invoice_data\\\", \\\"signed_qr_code\\\"), as_dict=True ) %}\\r\\n\\r\\n{% if e_invoice_log %}\\r\\n{% set invoice_data = json.loads(e_invoice_log.invoice_data) %}\\r\\n{% set date_format = frappe.db.get_single_value(\\\"System Settings\\\",'date_format').replace(\\\"mm\\\",\\\"MM\\\")\\r\\n%}\\r\\n\\r\\n<div style=\\\"padding-top:5px !important\\\">\\r\\n\\t<!-- invoice qr  -->\\r\\n\\t<div style=\\\"padding-bottom:5px !important\\\">\\r\\n\\t\\t{{ web_block('e-Invoice QR', values={'e_invoice_qr_text':\\r\\n\\t\\te_invoice_log.signed_qr_code }) }}\\r\\n\\t</div>\\r\\n\\r\\n\\t<!-- IRN -->\\r\\n\\t<p class=\\\"field-property\\\">\\r\\n\\t\\t<b>IRN : </b>{{ doc.irn }}\\r\\n\\t</p>\\r\\n\\t<!-- Ack no -->\\r\\n\\t<p class=\\\"field-property\\\">\\r\\n\\t\\t<b>Ack No.</b> {{ invoice_data.get(\\\"AckNo\\\") if doc.irn and invoice_data.get(\\\"AckNo\\\")\\r\\n\\t\\telse '' }}\\r\\n\\t</p>\\r\\n\\t<!-- Ack Date -->\\r\\n\\t<p class=\\\"field-property\\\">\\r\\n\\t\\t<b>Ack Dt.</b>\\r\\n\\t\\t{{ frappe.utils.format_datetime(invoice_data.get(\\\"AckDt\\\"),date_format) if doc.irn and\\r\\n\\t\\tinvoice_data.get(\\\"AckDt\\\") else '' }}\\r\\n\\t</p>\\r\\n</div>\\r\\n{% endif %}\\r\\n{% endif %}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"items\", \"print_hide\": 0, \"label\": \"Items\", \"visible_columns\": [{\"fieldname\": \"serial_no\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"gst_hsn_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"description\", \"print_width\": \"200px\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"erpnext\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"due_date\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Due Date\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set company_doc = frappe.get_doc(\\\"Company\\\",doc.company) %}\\n{% set currency_format = frappe.db.get_single_value(\\\"System Settings\\\",\\\"number_format\\\") %}\\n\\n{% set bank_details = {} %}\\n{% set upi_id = namespace(value=\\\"\\\") %}\\n{% set bank_name = namespace(value=\\\"\\\") %}\\n{% set paid_amount = namespace(value=0) %}\\n\\n{% for doc in company_doc.bank_details_for_printing %}\\n\\t{% if doc.print_label == \\\"UPI ID\\\" %}\\n\\t\\t{% set upi_id.value = doc.print_value %}\\n\\t{% elif doc.print_label == \\\"Bank Name\\\" %}\\n\\t\\t{% set bank_name.value = doc.print_value %}\\n\\t{% else %}\\n\\t\\t{% set _ = bank_details.update({doc.print_label: doc.print_value}) %}\\n\\t{% endif %}\\n{% endfor %}\\n\\n{% if doc.rounded_total %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.rounded_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% else %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.grand_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% endif %}\\n{% set paid_amount.value = frappe.utils.fmt_money(amount=paid_amount.value, format=currency_format, currency=company_doc.default_currency) %}\\n\\n\\n<div class=\\\"row  data-field\\\" data-fieldname=\\\"paid_amount\\\" data-fieldtype=\\\"Currency\\\">\\n\\t<div class=\\\"col-xs-5\\\">\\n\\t\\t<label>Paid Amount: </label>\\n\\t</div>\\n\\t<div class=\\\"col-xs-7 text-right value\\\">{{  paid_amount.value  }}</div>\\n</div>\\n\\n<table>\\n\\t<tr>\\n\\t\\t{% if doc.outstanding_amount != 0 and upi_id.value != ''  %}\\n\\t\\t\\t<td style=\\\"padding-left:0px !important;width:81px !important;\\\">\\n\\t\\t\\t\\t<div class=\\\"payment_qr\\\">\\n\\t\\t\\t\\t\\t{% set upi_qr_text = 'upi://pay?pa=' ~ upi_id.value ~ '&tn=' ~ doc.name ~ '&cu=INR' %}\\n\\t\\t\\t        {% if doc.outstanding_amount < 100000 %}\\n\\t\\t\\t\\t\\t\\t{% set upi_qr_text = upi_qr_text ~ '&am=' ~ doc.outstanding_amount %}\\n\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t{{ web_block('UPI QR Code', values={'upi_qr_text': upi_qr_text  }) }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<p style=\\\"font-size:8px !important;clear:left;padding-left:26px\\\">UPI QR</p>\\n\\t\\t\\t</td>\\n\\t\\t{% endif %}\\n\\t\\t{% if bank_details %}\\n\\t\\t\\t<td style=\\\"padding-top:5px !important;padding-left:0px !important\\\">\\n\\t\\t\\t\\t<p><b>Bank Details</b></p>\\n\\t\\t\\t\\t<p>{{ bank_name.value }}</p>\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t{% for key,value in bank_details.items() %}\\n\\t\\t\\t\\t\\t{% if value != None %}\\n\\t\\t\\t\\t\\t\\t<p>{{ key }} : {{ value }}</p>\\n\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</td>\\n\\t\\t{% endif %}\\n\\t</tr>\\n</table>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total\", \"print_hide\": 0, \"label\": \"Total\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div id=\\\"taxes-section\\\">\\n    {%- set data = doc.taxes -%}\\n    {%- set print_settings = frappe.get_doc(\\\"Print Settings\\\")  -%}\\n    {% include \\\"erpnext/templates/print_formats/includes/taxes.html\\\" %}\\n</div>\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}, {\"fieldname\": \"rounded_total\", \"print_hide\": 0, \"label\": \"Rounded Total\"}, {\"fieldname\": \"in_words\", \"print_hide\": 0, \"label\": \"In Words\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"gst_breakup_table\", \"print_hide\": 0, \"label\": \"GST Breakup Table\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set all_details = {} %}\\r\\n\\r\\n{% set company_doc = frappe.get_doc(\\\"Company\\\",doc.company) %}\\r\\n\\r\\n{% for doc in company_doc.registration_details_for_printing %}\\r\\n\\t{% set _ = all_details.update({doc.print_label: doc.print_value}) %}\\r\\n{% endfor %}\\r\\n\\r\\n{% if doc.company_gstin %}\\r\\n\\t{% set _ = all_details.update({ \\\"Our GSTIN\\\": doc.company_gstin,  }) %}\\r\\n{% endif %}\\r\\n\\r\\n<table class=\\\"company-details\\\">\\r\\n\\t<tr>\\r\\n\\t\\t{% for key,value in all_details.items() %}\\r\\n\\t\\t\\t{% if value != None %}\\r\\n\\t\\t\\t    <td>\\r\\n\\t\\t\\t\\t    <p> <b>{{ key }} :</b> {{ value }}</p>\\r\\n\\t\\t\\t    </td>\\r\\n\\t\\t\\t{% endif %}\\r\\n\\t\\t\\t{% if loop.index % 2 == 0 and not loop.last %}\\r\\n\\t\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t{% endif %}\\r\\n\\t\\t{% endfor %}\\r\\n\\t</tr>\\r\\n</table>\\r\\n\\r\\n{% if company_doc.show_physical_signature == 0 %}\\r\\n{% set first_name = frappe.db.get_value(\\\"User\\\",doc.owner,\\\"first_name\\\")  %}\\r\\n{% set last_name  = frappe.db.get_value(\\\"User\\\",doc.owner,\\\"last_name\\\")   %}\\r\\n{% set generated_by = first_name ~ (' ' ~ last_name if last_name else '') %}\\r\\n\\r\\n<table class=\\\"company-details\\\">\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td><p><b>Generated By :</b> {{ generated_by }}</p></td>\\r\\n\\t\\t</tr>\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td><p><b>Generated On:</b> {{ doc.get_formatted(\\\"creation\\\") }}</p></td>\\r\\n\\t\\t</tr>\\r\\n</table>\\r\\n{% else %}\\r\\n<table style=\\\"width:31%;float:right\\\">\\r\\n\\t\\t<tr style=\\\"text-align:end;\\\">\\r\\n\\t\\t\\t<td><p style=\\\"word-break: break-word;\\\">For <b>{{ doc.company }}</b></p></td>\\r\\n\\t\\t</tr>\\r\\n\\t\\t<tr><td></td></tr>\\r\\n\\t\\t<tr><td></td></tr>\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td style=\\\"text-align: right;\\\"><p><b>Authorized By</b></p></td>\\r\\n\\t\\t</tr>\\r\\n</table>\\r\\n{% endif %}\\r\\n\\r\\n{% if company_doc.show_physical_signature == 0 %}\\r\\n\\t<p style=\\\"width:100%;text-align: end;\\\">This is computer-generated document and no signature is required</p>\\r\\n{% endif %}\"}]",
 "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>Tax Invoice</title>\n\n  <style>\n    * { box-sizing: border-box; }\n\n    body {\n      font-family: Arial, sans-serif;\n      font-size: 11px;\n      margin: 0;\n      padding: 0;\n      color: #000;\n    }\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      table-layout: fixed;\n      margin: 0 !important;\n      padding: 0 !important;\n    }\n\n    p, hr {\n      margin: 0;\n      padding: 0;\n    }\n\n    .box {\n      border: 1px solid #000;\n      margin: 0 !important;\n    }\n\n    .box td, .box th {\n      border: 1px solid #000;\n      padding: 6px;\n      vertical-align: top;\n    }\n\n    /* ===== TITLE ===== */\n    .title-wrap {\n      position: relative;\n      text-align: center;\n      padding: 4px 0;\n    }\n\n    .title-wrap h1 {\n      font-size: 15px;\n      margin: 0;\n      font-weight: 700;\n    }\n\n    .orig {\n      position: absolute;\n      right: 4px;\n      top: 0;\n      font-size: 9.5px;\n      font-style: italic;\n    }\n\n    /* ===== HEADER ===== */\n    .col-left { width: 60%; }\n    .col-mid  { width: 40%; }\n\n    .logo {\n      width: 60px;\n      height: 60px;\n      object-fit: contain;\n      float: left;\n      margin-right: 8px;\n    }\n\n    .addr { line-height: 1.25; }\n\n    .meta td {\n      border: none !important;\n      padding: 2px 0 !important;\n      font-size: 11px;\n      line-height: 1.25;\n    }\n\n    .lbl { font-weight: 700; }\n\n    .buyer-title {\n      font-weight: 700;\n      margin-top: 4px;\n    }\n\n    .buyer-block {\n      min-height: 110px;\n      line-height: 1.25;\n    }\n\n    /* ===== ITEMS TABLE ===== */\n    .details th, .details td {\n      border: 1px solid #000;\n      padding: 5px;\n      font-size: 10.8px;\n      vertical-align: top;\n    }\n\n    .details th {\n      text-align: center;\n      font-weight: 700;\n    }\n\n    /* Sl No | Desc | HSN | Qty | Rate | Amount */\n    .details th:nth-child(1), .details td:nth-child(1) { width: 5%; text-align: center; }\n    .details th:nth-child(2), .details td:nth-child(2) { width: 45%; }\n    .details th:nth-child(3), .details td:nth-child(3) { width: 10%; text-align: center; }\n    .details th:nth-child(4), .details td:nth-child(4) { width: 10%; text-align: right; }\n    .details th:nth-child(5), .details td:nth-child(5) { width: 15%; text-align: right; }\n    .details th:nth-child(6), .details td:nth-child(6) { width: 15%; text-align: right; font-weight: 700; }\n\n    .small {\n      font-size: 10px;\n      line-height: 1.25;\n    }\n\n    /* ===== BANK & SIGN ===== */\n    .bank-grid td {\n      border: none !important;\n      padding: 1px 0 !important;\n    }\n\n    .bank-title,\n    .decl-title {\n      font-weight: 700;\n      margin-top: 4px;\n    }\n\n    .sign-wrap {\n      height: 100px;\n      position: relative;\n    }\n\n    .sign-eoe {\n      text-align: right;\n      font-size: 10px;\n      font-style: italic;\n    }\n\n    .sign-for {\n      text-align: right;\n      font-weight: 700;\n      margin-top: 4px;\n    }\n\n    .sign-bottom {\n      position: absolute;\n      right: 6px;\n      bottom: 6px;\n      font-weight: 700;\n    }\n\n    .printed {\n      font-size: 10px;\n      font-weight: 700;\n      text-align: center;\n      padding-top: 2px;\n    }\n\n    @media print {\n      tr { page-break-inside: avoid; }\n    }\n  </style>\n</head>\n\n<body>\n\n{% set company_doc = frappe.get_doc(\"Company\", doc.company) %}\n{% set bank_accounts = frappe.get_all(\n  \"Bank Account\",\n  filters={\"is_company_account\": 1, \"is_default\": 1, \"company\": doc.company},\n  fields=[\"account_name\", \"bank_account_no\", \"branch_code\", \"custom_branch\"],\n  limit=1\n) %}\n{% set bank = bank_accounts[0] if bank_accounts else None %}\n\n<div class=\"title-wrap\">\n  <h1>Tax Invoice</h1>\n  <div class=\"orig\">(ORIGINAL FOR RECIPIENT)</div>\n</div>\n\n<table class=\"box\">\n  <tr>\n    <td class=\"col-left\">\n     <div style=\"display:flex; align-items:flex-start; gap:10px;\">\n  \n  <div>\n    {% if company_doc.logo_for_printing %}\n      <img \n        src=\"{{ company_doc.logo_for_printing | abs_url }}\"\n        style=\"width:70px; height:70px; object-fit:contain;\"\n      >\n    {% endif %}\n  </div>\n\n  <div style=\"line-height:1.25;\">\n    {{ doc.company_address_display }}<br>\n    {% if company_doc.pan %}PAN: {{ company_doc.pan }}<br>{% endif %}\n    {% if company_doc.gstin %}GSTIN: {{ company_doc.gstin }}{% endif %}\n  </div>\n\n</div>\n\n      <hr>\n      <div class=\"buyer-title\">Buyer (Bill to)</div>\n      <div class=\"buyer-block\">\n        {{ doc.address_display }}\n      </div>\n    </td>\n\n    <td class=\"col-mid\">\n      <table class=\"meta\">\n        <tr><td><span class=\"lbl\">Invoice No.</span> : {{ doc.name }}</td></tr>\n        <tr><td><span class=\"lbl\">e-Way Bill No</span> : {{ doc.ewaybill or \"\" }}</td></tr>\n        <tr><td><span class=\"lbl\">Date</span> : {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yyyy\") }}</td></tr>\n        <tr><td><span class=\"lbl\">Delivery Note</span> : {{ doc.items[0].delivery_note or \"\" }}</td></tr>\n        <tr><td><span class=\"lbl\">Mode/Terms of Payment</span> : {{ doc.payment_terms_template }}</td></tr>\n        <tr><td><span class=\"lbl\">Our Order No.</span> : {{ doc.name }}</td></tr>\n         <tr><td><span class=\"lbl\">Date</span> : {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yyyy\") }}</td></tr>\n         <tr><td><span class=\"lbl\">Dispatch Doc No.</span> : {{ doc.name }}</td></tr>\n        <tr><td><span class=\"lbl\">Delivery Note Date</span> : {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yyyy\") }}</td></tr>\n        <tr><td><span class=\"lbl\">Dispatched through </span> : NOT APPLICABLE</td></tr>\n        <tr><td><span class=\"lbl\">Destination </span> : </td></tr>\n        <tr><td><span class=\"lbl\">Bill of Lading/LR-RR No. </span> : </td></tr>\n        <tr><td><span class=\"lbl\">Vehicle No.</span> : {{ doc.vehicle_no or \"\" }}</td></tr>\n        <tr><td><span class=\"lbl\">Driver Mobile </span> :{{doc.driver_mobile or \"\"}} </td></tr>\n        <tr><td><span class=\"lbl\">Driver Name </span> : {{doc.driver_name or \"\"}} </td></tr>\n        <tr><td><span class=\"lbl\">Policy NO.</span> : </td></tr>\n        <tr><td><span class=\"lbl\">Terms of Delivery</span> : {{doc.terms}}</td></tr>\n        <tr><td><span class=\"lbl\">Transporter GST NO.</span> : {{ doc.gst_transporter_id or \"\" }}</td></tr>\n      </table>\n    </td>\n  </tr>\n</table>\n\n<!-- ITEMS TABLE -->\n<table class=\"details\">\n  <tr>\n    <th>Sl<br>No</th>\n    <th>Description of Goods</th>\n    <th>HSN/SAC</th>\n    <th>Quantity</th>\n    <th>Rate</th>\n    <th>Amount</th>\n  </tr>\n\n  {% for row in doc.items %}\n  <tr>\n    <td>{{ loop.index }}</td>\n\n    <td>\n      <b>{{ row.description or row.item_name }}</b><br>\n      <span class=\"small\">{{ row.item_code }}</span>\n\n      {% if row.batch_no %}\n        {% set batch = frappe.db.get_value(\n          \"Batch\",\n          row.batch_no,\n          [\"manufacturing_date\",\"expiry_date\"],\n          as_dict=1\n        ) %}\n        <div class=\"small\">\n          Batch: {{ row.batch_no }}\n          {% if batch.manufacturing_date %}\n            <br>Mfg: {{ frappe.utils.formatdate(batch.manufacturing_date,\"dd-MMM-yyyy\") }}\n          {% endif %}\n          {% if batch.expiry_date %}\n            <br>Exp: {{ frappe.utils.formatdate(batch.expiry_date,\"dd-MMM-yyyy\") }}\n          {% endif %}\n        </div>\n      {% endif %}\n\n      {% if row.cgst_rate or row.sgst_rate or row.igst_rate %}\n        <div class=\"small\">\n          <b>GST Breakup:</b>\n          {% if row.cgst_rate %}<br>CGST {{ row.cgst_rate }}%: {{ row.get_formatted(\"cgst_amount\",doc) }}{% endif %}\n          {% if row.sgst_rate %}<br>SGST {{ row.sgst_rate }}%: {{ row.get_formatted(\"sgst_amount\",doc) }}{% endif %}\n          {% if row.igst_rate %}<br>IGST {{ row.igst_rate }}%: {{ row.get_formatted(\"igst_amount\",doc) }}{% endif %}\n        </div>\n      {% endif %}\n    </td>\n\n    <td>{{ row.gst_hsn_code }}</td>\n    <td style=\"text-align:right\">{{ row.qty }} {{ row.uom }}</td>\n    <td style=\"text-align:right\">{{ row.get_formatted(\"rate\",doc) }}</td>\n    <td style=\"text-align:right\">{{ row.get_formatted(\"amount\",doc) }}</td>\n  </tr>\n  {% endfor %}\n</table>\n<table class=\"box\">\n    <tr>\n        <td style=\"width:70%;\">{{doc.in_words}}</td>\n        <td style=\"width:30%;\">{{doc.rounded_total}}</td>\n    </tr>\n    \n</table>\n<table class=\"box\">\n  <tr>\n    <td style=\"width:60%;\">\n      <div class=\"bank-title\">Company\u2019s Bank Details</div>\n      <table class=\"bank-grid\">\n        <tr><td><b>Bank Name</b></td><td>: {{ bank.account_name if bank else \"\" }}</td></tr>\n        <tr><td><b>A/c No.</b></td><td>: {{ bank.bank_account_no if bank else \"\" }}</td></tr>\n        <tr><td><b>Branch & IFSC</b></td><td>: {{ bank.custom_branch if bank else \"\" }} {{ bank.branch_code if bank else \"\" }}</td></tr>\n      </table>\n\n      <div class=\"decl-title\">Declaration</div>\n      <div>\n        We declare that this invoice shows the actual price of the goods described and all particulars are true and correct.\n      </div>\n    </td>\n\n    <td style=\"width:40%;\">\n      <div class=\"sign-wrap\">\n        <div class=\"sign-eoe\">E. & O.E</div>\n        <div class=\"sign-for\">For {{ doc.company }}</div>\n        <div class=\"sign-bottom\">Authorised Signatory</div>\n      </div>\n    </td>\n  </tr>\n</table>\n<div class=\"printed\">\n  Printed By {{ frappe.session.user }} on\n  {{ frappe.utils.format_datetime(frappe.utils.now(),\"dd-MM-yyyy HH:mm:ss\") }}\n</div>\n\n</body>\n</html>\n\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-12 13:35:23.244385",
 "modified_by": "Administrator",
 "module": "Mohan Impex",
 "name": "GST Tax Invoice",
 "owner": "Administrator",
 "page_number": "Top Left",
 "print_format_builder": 1,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}